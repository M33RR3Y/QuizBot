# Quiz Telegram Bot

Это простой квиз-бот для Telegram, который позволяет пользователям проходить квизы, отвечать на вопросы и отслеживать свои результаты. Бот взаимодействует с базой данных SQLite для хранения прогресса и результатов квиза.

## Особенности
- Начать новый квиз с командой `/quiz`.
- Отслеживать количество правильных ответов каждого пользователя.
- Просматривать статистику последнего прохождения квиза с командой `/stats`.
- Поддержка нескольких пользователей с уникальным прогрессом и результатами.

## Требования
- Python 3.8+
- Библиотека `aiogram`
- Библиотека `aiosqlite`
- Библиотека `python-dotenv`
- Токен Telegram Bot API

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/M33RR3Y/QuizBot.git
   cd QuizBot
   ```

2. Создайте виртуальное окружение:
    ```bash
    python3 -m venv venv
    ```
3. Активируйте виртуальное окружение:
    
    - На Linux/macOS:
   ```bash 
    source venv/bin/activate
   ```
   - На Windows:
   ```bash
   .\venv\Scripts\activate
   ```
4. Установите все зависимости:
    ```bash
    pip install -r requirements.txt
    ```
5. Создайте файл .env в корне проекта и добавьте ваш токен Telegram Bot API:
    ```
    TELEGRAM_API_TOKEN=your_telegram_bot_api_token
    ```
6. Запустите бота:
    ```bash
    python main.py
    ```

## Структура файлов

- config.py: Содержит настройки конфигурации (токен Telegram API, имя базы данных).
- database.py: Управляет взаимодействием с базой данных (создание таблиц, обновление состояния квиза и результатов).
- main.py: Основная логика бота с обработчиками команд /start, /quiz и /stats.
- quiz.py: Функции для управления вопросами квиза и прогрессом пользователей.
- quiz_data.py: Содержит данные вопросов и вариантов ответов для квиза.

## Как это работает
1. Команда /start

    Бот отправляет приветственное сообщение с кнопкой для начала квиза.
2. Команда /quiz

    Команда /quiz запускает новый квиз для пользователя. Квиз проходит шаг за шагом, и прогресс пользователя сохраняется в базе данных.
3. Ответы на вопросы

    Каждый вопрос имеет несколько вариантов ответа. Пользователь выбирает ответ, и бот проверяет его на правильность. Если ответ правильный, бот увеличивает счёт. После каждого ответа бот отправляет следующий вопрос.
4. Команда /stats

    Команда /stats показывает количество правильных ответов, которые пользователь набрал в последнем квизе.
5. База данных

    Таблица quiz_state хранит текущий индекс вопроса для каждого пользователя.
    Таблица quiz_results хранит количество правильных ответов для каждого пользователя.

## Используемые библиотеки

- aiogram: Асинхронная библиотека для взаимодействия с Telegram Bot API.
- aiosqlite: Асинхронная библиотека SQLite для работы с базой данных бота.
- python-dotenv: Загружает переменные окружения из файла .env для безопасного хранения токена Telegram бота.
